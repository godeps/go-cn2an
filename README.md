# go-cn2an

ğŸ“¦ **go-cn2an** æ˜¯ä¸€ä¸ªå¿«é€Ÿè½¬åŒ– `ä¸­æ–‡æ•°å­—` å’Œ `é˜¿æ‹‰ä¼¯æ•°å­—` çš„ Golang å·¥å…·åŒ…ï¼

è¿™æ˜¯ Python ç‰ˆæœ¬ [cn2an](https://github.com/Ailln/cn2an) çš„ Golang å®Œæ•´å¤åˆ»å®ç°ã€‚

> For the English README please refer to `README_EN.md`.

## åŠŸèƒ½ç‰¹æ€§

### 1. `ä¸­æ–‡æ•°å­—` => `é˜¿æ‹‰ä¼¯æ•°å­—`

- æ”¯æŒ `ä¸­æ–‡æ•°å­—` => `é˜¿æ‹‰ä¼¯æ•°å­—`
- æ”¯æŒ `å¤§å†™ä¸­æ–‡æ•°å­—` => `é˜¿æ‹‰ä¼¯æ•°å­—`
- æ”¯æŒ `ä¸­æ–‡æ•°å­—å’Œé˜¿æ‹‰ä¼¯æ•°å­—æ··åˆ` => `é˜¿æ‹‰ä¼¯æ•°å­—`

### 2. `é˜¿æ‹‰ä¼¯æ•°å­—` => `ä¸­æ–‡æ•°å­—`

- æ”¯æŒ `é˜¿æ‹‰ä¼¯æ•°å­—` => `ä¸­æ–‡æ•°å­—`
- æ”¯æŒ `é˜¿æ‹‰ä¼¯æ•°å­—` => `å¤§å†™ä¸­æ–‡æ•°å­—`
- æ”¯æŒ `é˜¿æ‹‰ä¼¯æ•°å­—` => `å¤§å†™äººæ°‘å¸`

### 3. å¥å­è½¬åŒ–

- æ”¯æŒ `ä¸­æ–‡æ•°å­—` => `é˜¿æ‹‰ä¼¯æ•°å­—`
  - æ”¯æŒ `æ—¥æœŸ`
  - æ”¯æŒ `åˆ†æ•°`
  - æ”¯æŒ `ç™¾åˆ†æ¯”`
  - æ”¯æŒ `æ‘„æ°åº¦`

- æ”¯æŒ `é˜¿æ‹‰ä¼¯æ•°å­—` => `ä¸­æ–‡æ•°å­—`
  - æ”¯æŒ `æ—¥æœŸ`
  - æ”¯æŒ `åˆ†æ•°`
  - æ”¯æŒ `ç™¾åˆ†æ¯”`
  - æ”¯æŒ `æ‘„æ°åº¦`

### 4. å…¶ä»–

- æ”¯æŒ `å°æ•°`
- æ”¯æŒ `è´Ÿæ•°`
- æ”¯æŒæœ€å¤§åˆ° `10^16`ï¼ˆåƒä¸‡äº¿ï¼‰
- æ”¯æŒæœ€å°åˆ° `10^-16`

## å®‰è£…

```bash
go get github.com/godeps/go-cn2an
```

## ä½¿ç”¨æ–¹æ³•

### 1. ä¸­æ–‡æ•°å­— => é˜¿æ‹‰ä¼¯æ•°å­—

```go
package main

import (
    "fmt"
    gocn2an "github.com/godeps/go-cn2an"
)

func main() {
    c := gocn2an.NewCn2An()

    // strict æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼šåªæœ‰ä¸¥æ ¼ç¬¦åˆæ•°å­—æ‹¼å†™çš„æ‰å¯ä»¥è¿›è¡Œè½¬åŒ–
    result, _ := c.Cn2an("ä¸€ç™¾äºŒåä¸‰", "strict")
    fmt.Println(result) // 123

    // normal æ¨¡å¼ï¼šå¯ä»¥å°† ä¸€äºŒä¸‰ è¿›è¡Œè½¬åŒ–
    result, _ = c.Cn2an("ä¸€äºŒä¸‰", "normal")
    fmt.Println(result) // 123

    // smart æ¨¡å¼ï¼šå¯ä»¥å°†æ··åˆæ‹¼å†™çš„ 1ç™¾23 è¿›è¡Œè½¬åŒ–
    result, _ = c.Cn2an("1ç™¾23", "smart")
    fmt.Println(result) // 123

    // æ”¯æŒè´Ÿæ•°
    result, _ = c.Cn2an("è´Ÿä¸€ç™¾äºŒåä¸‰", "strict")
    fmt.Println(result) // -123

    // æ”¯æŒå°æ•°
    result, _ = c.Cn2an("ä¸€ç‚¹äºŒä¸‰", "strict")
    fmt.Println(result) // 1.23

    // æ”¯æŒå£è¯­åŒ–è¡¨è¾¾
    result, _ = c.Cn2an("ä¸€ä¸‡äºŒ", "normal")
    fmt.Println(result) // 12000
}
```

### 2. é˜¿æ‹‰ä¼¯æ•°å­— => ä¸­æ–‡æ•°å­—

```go
package main

import (
    "fmt"
    gocn2an "github.com/godeps/go-cn2an"
)

func main() {
    a := gocn2an.NewAn2Cn()

    // low æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼šæ•°å­—è½¬åŒ–ä¸ºå°å†™çš„ä¸­æ–‡æ•°å­—
    result, _ := a.An2cn(123, "low")
    fmt.Println(result) // ä¸€ç™¾äºŒåä¸‰

    // up æ¨¡å¼ï¼šæ•°å­—è½¬åŒ–ä¸ºå¤§å†™çš„ä¸­æ–‡æ•°å­—
    result, _ = a.An2cn(123, "up")
    fmt.Println(result) // å£¹ä½°è´°æ‹¾å

    // rmb æ¨¡å¼ï¼šæ•°å­—è½¬åŒ–ä¸ºäººæ°‘å¸ä¸“ç”¨çš„æè¿°
    result, _ = a.An2cn(123, "rmb")
    fmt.Println(result) // å£¹ä½°è´°æ‹¾åå…ƒæ•´

    // direct æ¨¡å¼ï¼šç›´æ¥è½¬æ¢æ¯ä¸€ä½æ•°å­—
    result, _ = a.An2cn(123, "direct")
    fmt.Println(result) // ä¸€äºŒä¸‰

    // æ”¯æŒè´Ÿæ•°
    result, _ = a.An2cn(-123, "low")
    fmt.Println(result) // è´Ÿä¸€ç™¾äºŒåä¸‰

    // æ”¯æŒå°æ•°
    result, _ = a.An2cn(1.23, "low")
    fmt.Println(result) // ä¸€ç‚¹äºŒä¸‰

    // æ”¯æŒäººæ°‘å¸å°æ•°
    result, _ = a.An2cn(123.45, "rmb")
    fmt.Println(result) // å£¹ä½°è´°æ‹¾åå…ƒè‚†è§’ä¼åˆ†
}
```

### 3. å¥å­è½¬åŒ–

```go
package main

import (
    "fmt"
    gocn2an "github.com/godeps/go-cn2an"
)

func main() {
    t := gocn2an.NewTransform()

    // cn2an æ–¹æ³•ï¼šå°†å¥å­ä¸­çš„ä¸­æ–‡æ•°å­—è½¬æˆé˜¿æ‹‰ä¼¯æ•°å­—
    result, _ := t.Transform("å°ç‹æ¡äº†ä¸€ç™¾å—é’±", "cn2an")
    fmt.Println(result) // å°ç‹æ¡äº†100å—é’±

    // an2cn æ–¹æ³•ï¼šå°†å¥å­ä¸­çš„é˜¿æ‹‰ä¼¯æ•°å­—è½¬æˆä¸­æ–‡æ•°å­—
    result, _ = t.Transform("å°ç‹æ¡äº†100å—é’±", "an2cn")
    fmt.Println(result) // å°ç‹æ¡äº†ä¸€ç™¾å—é’±

    // æ”¯æŒæ—¥æœŸ
    result, _ = t.Transform("å°ç‹çš„ç”Ÿæ—¥æ˜¯äºŒé›¶é›¶ä¸€å¹´ä¸‰æœˆå››æ—¥", "cn2an")
    fmt.Println(result) // å°ç‹çš„ç”Ÿæ—¥æ˜¯2001å¹´3æœˆ4æ—¥

    result, _ = t.Transform("å°ç‹çš„ç”Ÿæ—¥æ˜¯2001å¹´3æœˆ4æ—¥", "an2cn")
    fmt.Println(result) // å°ç‹çš„ç”Ÿæ—¥æ˜¯äºŒé›¶é›¶ä¸€å¹´ä¸‰æœˆå››æ—¥

    // æ”¯æŒåˆ†æ•°
    result, _ = t.Transform("æŠ›å‡ºå»çš„ç¡¬å¸ä¸ºæ­£é¢çš„æ¦‚ç‡æ˜¯äºŒåˆ†ä¹‹ä¸€", "cn2an")
    fmt.Println(result) // æŠ›å‡ºå»çš„ç¡¬å¸ä¸ºæ­£é¢çš„æ¦‚ç‡æ˜¯1/2

    result, _ = t.Transform("æŠ›å‡ºå»çš„ç¡¬å¸ä¸ºæ­£é¢çš„æ¦‚ç‡æ˜¯1/2", "an2cn")
    fmt.Println(result) // æŠ›å‡ºå»çš„ç¡¬å¸ä¸ºæ­£é¢çš„æ¦‚ç‡æ˜¯äºŒåˆ†ä¹‹ä¸€
}
```

## API è¯´æ˜

### Cn2an ä¸­æ–‡è½¬é˜¿æ‹‰ä¼¯æ•°å­—

```go
func (c *Cn2An) Cn2an(inputs string, mode string) (float64, error)
```

**å‚æ•°ï¼š**
- `inputs`: ä¸­æ–‡æ•°å­—å­—ç¬¦ä¸²
- `mode`: è½¬æ¢æ¨¡å¼
  - `"strict"`: ä¸¥æ ¼æ¨¡å¼ï¼Œåªæ”¯æŒæ ‡å‡†çš„ä¸­æ–‡æ•°å­—è¡¨è¾¾
  - `"normal"`: æ™®é€šæ¨¡å¼ï¼Œæ”¯æŒå£è¯­åŒ–è¡¨è¾¾ï¼ˆå¦‚"ä¸€ä¸‡äºŒ"ï¼‰
  - `"smart"`: æ™ºèƒ½æ¨¡å¼ï¼Œæ”¯æŒä¸­æ–‡æ•°å­—å’Œé˜¿æ‹‰ä¼¯æ•°å­—æ··åˆ

**è¿”å›ï¼š**
- `float64`: è½¬æ¢åçš„é˜¿æ‹‰ä¼¯æ•°å­—
- `error`: é”™è¯¯ä¿¡æ¯

### An2cn é˜¿æ‹‰ä¼¯æ•°å­—è½¬ä¸­æ–‡

```go
func (a *An2Cn) An2cn(inputs interface{}, mode string) (string, error)
```

**å‚æ•°ï¼š**
- `inputs`: é˜¿æ‹‰ä¼¯æ•°å­—ï¼ˆå¯ä»¥æ˜¯ int, int64, float64, float32 æˆ– stringï¼‰
- `mode`: è½¬æ¢æ¨¡å¼
  - `"low"`: å°å†™ä¸­æ–‡æ•°å­—
  - `"up"`: å¤§å†™ä¸­æ–‡æ•°å­—
  - `"rmb"`: äººæ°‘å¸å¤§å†™
  - `"direct"`: ç›´æ¥è½¬æ¢ï¼ˆæ¯ä½æ•°å­—å•ç‹¬è½¬æ¢ï¼‰

**è¿”å›ï¼š**
- `string`: è½¬æ¢åçš„ä¸­æ–‡æ•°å­—
- `error`: é”™è¯¯ä¿¡æ¯

### Transform å¥å­è½¬æ¢

```go
func (t *Transform) Transform(inputs string, method string) (string, error)
```

**å‚æ•°ï¼š**
- `inputs`: è¾“å…¥å¥å­
- `method`: è½¬æ¢æ–¹æ³•
  - `"cn2an"`: ä¸­æ–‡æ•°å­—è½¬é˜¿æ‹‰ä¼¯æ•°å­—
  - `"an2cn"`: é˜¿æ‹‰ä¼¯æ•°å­—è½¬ä¸­æ–‡æ•°å­—

**è¿”å›ï¼š**
- `string`: è½¬æ¢åçš„å¥å­
- `error`: é”™è¯¯ä¿¡æ¯

## è¿è¡Œæµ‹è¯•

```bash
go test -v
```

## è¿è¡Œç¤ºä¾‹

```bash
cd example
go run main.go
```

## é¡¹ç›®ç»“æ„

```
go-cn2an/
â”œâ”€â”€ config.go          # é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰å¸¸é‡å’Œæ˜ å°„
â”œâ”€â”€ cn2an.go           # ä¸­æ–‡æ•°å­—è½¬é˜¿æ‹‰ä¼¯æ•°å­—
â”œâ”€â”€ an2cn.go           # é˜¿æ‹‰ä¼¯æ•°å­—è½¬ä¸­æ–‡æ•°å­—
â”œâ”€â”€ transform.go       # å¥å­è½¬æ¢
â”œâ”€â”€ cn2an_test.go      # cn2an æµ‹è¯•
â”œâ”€â”€ an2cn_test.go      # an2cn æµ‹è¯•
â”œâ”€â”€ transform_test.go  # transform æµ‹è¯•
â”œâ”€â”€ example/
â”‚   â””â”€â”€ main.go        # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ go.mod             # Go æ¨¡å—æ–‡ä»¶
â””â”€â”€ README.md          # è¯´æ˜æ–‡æ¡£
```

## ç‰¹æ€§æ”¯æŒ

### æ”¯æŒçš„ä¸­æ–‡æ•°å­—

- å°å†™ï¼šé›¶ã€ä¸€ã€äºŒã€ä¸‰ã€å››ã€äº”ã€å…­ã€ä¸ƒã€å…«ã€ä¹ã€åã€ç™¾ã€åƒã€ä¸‡ã€äº¿
- å¤§å†™ï¼šé›¶ã€å£¹ã€è´°ã€åã€è‚†ã€ä¼ã€é™†ã€æŸ’ã€æŒã€ç–ã€æ‹¾ã€ä½°ã€ä»Ÿã€ä¸‡ã€äº¿
- ç‰¹æ®Šï¼šã€‡ã€å¹ºã€ä¸¤ã€å»¿ï¼ˆäºŒåï¼‰

### æ”¯æŒçš„æ•°å­—èŒƒå›´

- æ•´æ•°ï¼š0 åˆ° 9999999999999999ï¼ˆåƒä¸‡äº¿ï¼‰
- å°æ•°ï¼šæ”¯æŒæœ€å¤š 16 ä½å°æ•°ç²¾åº¦

### ç‰¹æ®ŠåŠŸèƒ½

1. **å£è¯­åŒ–æ”¯æŒ**ï¼ˆnormal æ¨¡å¼ï¼‰
   - "ä¸€ä¸‡äºŒ" => 12000
   - "ä¸‰åƒäº”" => 3500
   - "ä¸¤ç™¾ä¸‰" => 230

2. **æ··åˆæ¨¡å¼æ”¯æŒ**ï¼ˆsmart æ¨¡å¼ï¼‰
   - "1ç™¾23" => 123
   - "10.1ä¸‡" => 101000
   - "35.1äº¿" => 3510000000

3. **äººæ°‘å¸æ ¼å¼**ï¼ˆrmb æ¨¡å¼ï¼‰
   - 123.45 => "å£¹ä½°è´°æ‹¾åå…ƒè‚†è§’ä¼åˆ†"
   - 0.5 => "ä¼è§’"
   - 0.05 => "ä¼åˆ†"

## è®¸å¯è¯

MIT License

## è‡´è°¢

æœ¬é¡¹ç›®æ˜¯ Python ç‰ˆæœ¬ [cn2an](https://github.com/Ailln/cn2an) çš„ Golang å®Œæ•´å¤åˆ»ã€‚æ„Ÿè°¢åŸä½œè€… [Ailln](https://github.com/Ailln) çš„ä¼˜ç§€è®¾è®¡å’Œå®ç°ã€‚

## å‚è€ƒ

- [cn2an - Python ç‰ˆæœ¬](https://github.com/Ailln/cn2an)
- [ä¸­æ–‡æ•°å­— - Wikipedia](https://zh.wikipedia.org/zh-sg/%E4%B8%AD%E6%96%87%E6%95%B0%E5%AD%97)
